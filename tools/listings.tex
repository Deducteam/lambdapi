\documentclass{article}

\usepackage[utf8]{inputenc}

\usepackage{xcolor}
\definecolor{green}{RGB}{0,130,0}
\definecolor{lightgrey}{RGB}{240,240,240}

\usepackage{amssymb}

\usepackage{listings}
\lstdefinelanguage{Dedukti}
{
  inputencoding=utf8,
  extendedchars=true,
  numbers=none,
  numberstyle={},
  tabsize=2,
  basicstyle={\ttfamily\small\upshape},
  backgroundcolor=\color{lightgrey},
  keywords={abort,admit,with,apply,as,assert,assertnot,assume,compute,constant,definition,focus,in,injective,let,open,print,private,proof,proofterm,protected,qed,refine,reflexivity,require,rewrite,rule,set,simpl,symmetry,symbol,theorem,type,TYPE,why3},
  sensitive=true,
  keywordstyle=\color{blue},
  morecomment=[l]{//},
  commentstyle={\itshape\color{red}},
  string=[b]{"},
  stringstyle=\color{orange},
  showstringspaces=false,
  literate={â‡’}{$\Rightarrow$}1 {â†’}{$\rightarrow$}1 {âˆ€}{$\forall$}1
  {â‰”}{$\coloneqq$}1
  {ğ”¹}{$\mathbb{B}$}1 {ğ•ƒ}{$\mathbb{L}$}1 {â„•}{$\mathbb{N}$}1
  {Î±}{$\alpha$}1 {Ï€}{$\pi$}1 {Ï„}{$\tau$}1 {Ï‰}{$\omega$}1
  {âˆ§}{$\wedge$}1
  {â‰¤}{$\le$}1 {â‰ }{$\neq$}1 {âˆ‰}{$\notin$}1
}
\lstset{language={Dedukti}}

\title{Setup of the {\tt listings} package for including {\tt lambdapi} code}
\author{Lambdapi development team}
\date{7 December 2019}

\begin{document}

\maketitle

\small
\begin{lstlisting}
symbol Set:TYPE     symbol arrow:Setâ†’Setâ†’Set

symbol El:Setâ†’TYPE
  rule El (arrow a b) âŸ¶ El a â†’ El b

symbol ğ”¹:TYPE      symbol true:ğ”¹    symbol false:ğ”¹
symbol â„•:TYPE      symbol 0:â„•       symbol s:â„•â†’â„•

symbol infix +:â„•â†’â„•â†’â„•
  rule     0 + q âŸ¶ q
  rule (s p) + q âŸ¶ s (p + q)

symbol ğ•ƒ:Setâ†’â„•â†’TYPE
  symbol nil: Î a,ğ•ƒ a 0
  symbol cons:Î a,El a â†’ Î p,ğ•ƒ a p â†’ ğ•ƒ a (s p)

symbol app:Î a p,ğ•ƒ a p â†’ Î q,ğ•ƒ a q â†’ ğ•ƒ a (p+q)
  rule app a _ (nil _)        q m âŸ¶ m
  rule app a _ (cons _ x p l) q m
       âŸ¶ cons a x (p+q) (app a p l q m)

symbol len_fil:Î a,(El a â†’ ğ”¹) â†’ Î p,ğ•ƒ a p â†’ â„•
symbol len_fil_aux:ğ”¹ â†’ Î a,(El a â†’ ğ”¹) â†’ Î p,ğ•ƒ a p â†’ â„•
  rule len_fil a f _ (nil _)         âŸ¶ 0
  rule len_fil a f _ (cons _ x p l)
       âŸ¶ len_fil_aux (f x) a f p l
  rule len_fil a f _ (app _ p l q m)
       âŸ¶ (len_fil a f p l) + (len_fil a f q m)
  rule len_fil_aux true  a f p l âŸ¶ s (len_fil a f p l)
  rule len_fil_aux false a f p l âŸ¶ len_fil a f p l

symbol fil:Î a f p l,ğ•ƒ a (len_fil a f p l)
symbol fil_aux:Î b a f,El a â†’ Î p l,ğ•ƒ a (len_fil_aux b a f p l)
  rule fil a f _ (nil _)         âŸ¶ nil a
  rule fil a f _ (cons _ x p l)  âŸ¶ fil_aux (f x) a f x p l
  rule fil a f _ (app _ p l q m)
       âŸ¶ app a (len_fil a f p l) (fil a f p l)
                (len_fil a f q m) (fil a f q m)
  rule fil_aux false a f x p l âŸ¶ fil a f p l
  rule fil_aux true  a f x p l
       âŸ¶ cons a x (len_fil a f p l) (fil a f p l)
\end{lstlisting}

\end{document}
